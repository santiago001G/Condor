@inject SpinnerService SpinnerService

<style>
    .spinner-container {
        width: 100%;
        height: 100%;
        z-index:999;
        position: fixed;
        display:flex;
        justify-content:center;
        align-items:center;
        flex-direction:column;
        background-color:#0000008f;
    }
</style>
@if (IsVisible)
{
    <div class="spinner-container">
        <h1 class="title is-1 has-text-primary">Cargando...</h1>
    </div>
}
@code
{
    protected bool IsVisible { get; set; }
    protected override void OnInitialized()
    {
        SpinnerService.OnShow += ShowSpinner;
        SpinnerService.OnHide += HideSpinner;
    }

    public void ShowSpinner()
    {
        IsVisible = true;
        StateHasChanged();
    }

    public void HideSpinner()
    {
        IsVisible = false;
        StateHasChanged();
    }
}